<ion-header>
</ion-header>

<ion-content>
  
  <app-theme-bar [theme]="'Challenges'" [rq_color]="'#fd625e'"></app-theme-bar>

  <div *ngFor="let quest of this.db.quests">

    <ion-card  color="dangerRichQuizz" *ngIf="quest.status === 0">

      <ion-card-content>

        <ion-card-title style="text-transform: uppercase; font-weight: 700; font-size: 1.25em;">
          {{quest.name}}
        </ion-card-title>
        
        <ion-card-subtitle>
          RÃ©compence: {{quest.reward}} ðŸ’Ž
        </ion-card-subtitle>

        <app-progression-bar [value]="((quest.done / quest.result) * 100).toFixed(0)"></app-progression-bar>

      </ion-card-content>

    </ion-card>

    <!-- Not done -->
    <ion-card style="text-align: center;" color="dangerRichQuizz" *ngIf="quest.status === 10">   
      <ion-card-header>
        <ion-card-title style="font-weight: 600;">{{quest.name}}</ion-card-title>

        <ion-card-subtitle>
          Reward: {{quest.reward}} ðŸ’Ž
        </ion-card-subtitle>

      </ion-card-header>
    
      <ion-card-content>
        <app-progression-bar [value]="(quest.done / quest.result) * 100"></app-progression-bar>
      </ion-card-content>
    </ion-card>

    <!-- Done -->
    <ion-card style="text-align: center;" color="successRichQuizz" *ngIf="quest.status === 1">
      
      <ion-card-header>

        <ion-card-title style="font-weight: 600;">
          <ion-icon name="checkmark"></ion-icon> {{quest.name}}
        </ion-card-title>

        <ion-card-subtitle>
          Reward: {{quest.reward}} ðŸ’Ž
        </ion-card-subtitle>

        <ion-button (click)="collect(quest.id, quest.reward)" *ngIf="quest.collected === 0">
          Collect
        </ion-button>

      </ion-card-header>

    </ion-card>

  </div>

</ion-content>
